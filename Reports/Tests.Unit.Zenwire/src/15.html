<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>c:\projects\zenwire\zenwire\controllers\shiftcontroller.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Web.Mvc;
using Zenwire.Domain;
using Zenwire.Models;
using Zenwire.Repositories;

namespace Zenwire.Controllers
{
    public class ShiftController : Controller
    {
        private readonly IRepository&lt;Employee&gt; _employeeRepository;
        private readonly IRepository&lt;Shift&gt; _shiftRepository;

        public ShiftController(IRepository&lt;Employee&gt; employeeRepository, IRepository&lt;Shift&gt; shiftRepository)
        {
            _employeeRepository = employeeRepository;
            _shiftRepository = shiftRepository;
        }

        // GET: /Shift/
        public ActionResult Index()
        {
            return View(_shiftRepository.Get);
        }

        // GET: /Shift/Details/5
        public ActionResult Details(int id = 0)
        {
            Shift shift = _shiftRepository.Find(id);
            if (shift == null)
            {
                return HttpNotFound();
            }
            return View(shift);
        }

        // GET: /Shift/Create
        public ActionResult Create()
        {
            return View(new ShiftModel()
            {
                EmployeeList = _employeeRepository.Get,
                ShiftEntity = new Shift()
            });
        }

        // POST: /Shift/Create
        [HttpPost]
        [ValidateAntiForgeryToken]
        public ActionResult Create(ShiftModel model, DateTime? date)
        {
            if (ModelState.IsValid)
            {
                _shiftRepository.Add(model.ShiftEntity);
                return RedirectToAction(&quot;Index&quot;);
            }

            return View(model);
        }

        // GET: /Shift/Edit/5
        public ActionResult Edit(int id = 0)
        {
            Shift shift = _shiftRepository.Find(id);
            if (shift == null)
            {
                return HttpNotFound();
            }

            return View(new ShiftModel()
            {
                EmployeeList = _employeeRepository.Get,
                ShiftEntity = shift
            });
        }

        // POST: /Shift/Edit/5
        [HttpPost]
        [ValidateAntiForgeryToken]
        public ActionResult Edit(ShiftModel shift)
        {
            if (ModelState.IsValid)
            {
                _shiftRepository.Update(shift.ShiftEntity);
                return RedirectToAction(&quot;Index&quot;);
            }
            return View(shift);
        }

        // GET: /Shift/Delete/5
        public ActionResult Delete(int id = 0)
        {
            Shift shift = _shiftRepository.Find(id);
            if (shift == null)
            {
                return HttpNotFound();
            }
            return View(shift);
        }

        // POST: /Shift/Delete/5
        [HttpPost, ActionName(&quot;Delete&quot;)]
        [ValidateAntiForgeryToken]
        public ActionResult DeleteConfirmed(int id)
        {
            Shift shift = _shiftRepository.Find(id);
            _shiftRepository.Remove(shift);
            return RedirectToAction(&quot;Index&quot;);
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[14,9,14,109,1],[15,9,15,10,1],[16,13,16,54,1],[17,13,17,48,1],[18,9,18,10,1],[22,9,22,10,1],[23,13,23,47,1],[24,9,24,10,1],[28,9,28,10,1],[29,13,29,53,1],[30,13,30,31,1],[31,13,31,14,1],[32,17,32,39,1],[34,13,34,32,1],[35,9,35,10,1],[39,9,39,10,1],[40,13,44,16,1],[45,9,45,10,1],[51,9,51,10,1],[52,13,52,36,1],[53,13,53,14,1],[54,17,54,57,1],[55,17,55,50,1],[58,13,58,32,1],[59,9,59,10,1],[63,9,63,10,1],[64,13,64,53,1],[65,13,65,31,1],[66,13,66,14,1],[67,17,67,39,1],[70,13,74,16,1],[75,9,75,10,1],[81,9,81,10,1],[82,13,82,36,1],[83,13,83,14,1],[84,17,84,60,1],[85,17,85,50,1],[87,13,87,32,1],[88,9,88,10,1],[92,9,92,10,1],[93,13,93,53,1],[94,13,94,31,1],[95,13,95,14,1],[96,17,96,39,1],[98,13,98,32,1],[99,9,99,10,1],[105,9,105,10,1],[106,13,106,53,1],[107,13,107,44,1],[108,13,108,46,1],[109,9,109,10,1]]);
    </script>
  </body>
</html>